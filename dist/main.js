(()=>{var e={82:(e,t,n)=>{const a=n(112),i=n(758),r=n(547),o=function(){let e,t;const n=()=>{s.clearBoards(),s.renderPlayerBoard(e),s.renderPlayerBoard(t)};return{initialize:()=>{const n=a(),o=a();e=i(o,!1),t=i(n,!0),s.renderShipPlacementScreen(o,[r(5),r(4),r(3),r(3),r(2),r(2)]),n.placeShipsRandomly([r(5),r(4),r(3),r(3),r(2),r(2)])},playRound:a=>{e.attack(t.getPlayerGameboard(),a),t.randomAttack(e.getPlayerGameboard()),n(),e.getPlayerGameboard().areAllShipsSunk()&&!t.getPlayerGameboard().areAllShipsSunk()?s.displayResult("computer wins"):!e.getPlayerGameboard().areAllShipsSunk()&&t.getPlayerGameboard().areAllShipsSunk()?s.displayResult("player wins"):e.getPlayerGameboard().areAllShipsSunk()&&t.getPlayerGameboard().areAllShipsSunk()&&s.displayResult("tie")},renderBoards:n}}(),s=function(){const e=document.getElementById("player-board"),t=document.getElementById("computer-board"),n=e=>{let t=JSON.parse(e.target.dataset.position);o.playRound(t)};return{renderPlayerBoard:a=>{a.getPlayerGameboard().getBoard().forEach((i=>{const r=document.createElement("div");r.className="box",i.hasBeenHit&&(r.innerText="x"),a.getIsComputer()?(i.hasBeenHit||r.addEventListener("click",n),r.dataset.position=JSON.stringify(i.position),i.hasBeenHit&&i.ship&&r.classList.add("occupied"),t.appendChild(r)):(i.ship&&(i.ship.isSunk()?r.classList.add("occupied"):r.classList.add("ship")),e.appendChild(r))}))},clearBoards:()=>{e.innerHTML="",t.innerHTML=""},displayResult:n=>{const a=document.createElement("div");a.id="result-container";const i=document.createElement("h1"),r=document.createElement("button");i.innerText=n,r.innerText="Play Again",r.addEventListener("click",(()=>{a.remove(),e.innerHTML="",t.innerHTML="",o.initialize()})),a.appendChild(i),a.appendChild(r),document.body.appendChild(a)},renderShipPlacementScreen:(e,t)=>{const n=document.createElement("div"),a=document.createElement("div");n.id="placing-board-container",a.className="board";let i="x";const r=document.createElement("button");r.innerText="Toggle Axis",r.addEventListener("click",(()=>{i="x"===i?"y":"x"}));let s=0;e.getBoard().forEach((r=>{const l=document.createElement("div");l.className="box",l.dataset.position=JSON.stringify(r.position),l.addEventListener("click",(a=>{const r=JSON.parse(a.target.dataset.position);e.placeShip(t[s],r,i)instanceof Error?alert("Invalid position"):(e.placeShip(t[s],r,i),e.getBoard().filter((e=>e.ship)).forEach((e=>{document.querySelector(`[data-position='${JSON.stringify(e.position)}']`).style.backgroundColor="#00ff00"})),s++),s===t.length&&(n.remove(),o.renderBoards(),s=0)})),a.appendChild(l)})),n.appendChild(a),n.appendChild(r),document.body.appendChild(n)}}}();e.exports={Game:o,UI:s}},112:(e,t,n)=>{n(547),e.exports=function(){let e=[];const t=()=>{for(let t=0;t<10;t++)for(let n=0;n<10;n++)e.push({position:{x:n,y:t},hasBeenHit:!1})};t();const n=(e,t)=>e.x===t.x&&e.y===t.y,a=(t,a,i)=>{let o=[a];for(let e=t.getLength();e>1;e--){let e={};Object.assign(e,o[o.length-1]),e[i]++,o.push(e)}if(!o.every((e=>r(e))))return new Error("Position occupied.");{let a=[...e];o.map((t=>e.findIndex((e=>n(e.position,t))))).forEach((e=>a[e].ship=t)),e=a}},i=e=>{let t=s().map((e=>e.position)),n=t[Math.floor(Math.random()*t.length)],r=["x","y"][Math.round(Math.random())];a(e,n,r)instanceof Error?i(e):a(e,n,r)},r=t=>s().some((a=>n(a.position,t)&&!(t=>!!(t=>{const a=[{x:t.x+1,y:t.y},{x:t.x-1,y:t.y},{x:t.x,y:t.y+1},{x:t.x,y:t.y-1},{x:t.x+1,y:t.y+1},{x:t.x-1,y:t.y-1},{x:t.x+1,y:t.y-1},{x:t.x-1,y:t.y+1}].filter((e=>o(e)));return e.filter((e=>a.some((t=>n(t,e.position)))))})(t).some((e=>e.ship)))(t))),o=t=>e.some((e=>n(e.position,t))),s=()=>e.filter((e=>!e.ship));return{placeShip:a,initialize:t,getBoard:()=>e,recieveAttack:t=>{const a=e.find((e=>n(e.position,t)));if(a.hasBeenHit)return new Error("Position has already been hit.");a.ship&&a.ship.hit(),a.hasBeenHit=!0},areAllShipsSunk:()=>e.filter((e=>e.ship)).every((e=>e.ship.isSunk())),getMissedAttacks:()=>e.filter((e=>e.hasBeenHit&&!e.ship)),getAvailableBoxes:()=>e.filter((e=>!e.hasBeenHit)),getEmptyBoxes:s,placeShipsRandomly:e=>{e.forEach((e=>{i(e)}))}}}},758:e=>{e.exports=function(e,t){const n=()=>e,a=()=>t;return t?{randomAttack:e=>{let t=e.getAvailableBoxes().map((e=>e.position)),n=Math.floor(Math.random()*t.length);e.recieveAttack(t[n])},getPlayerGameboard:n,getIsComputer:a}:{attack:(e,t)=>e.recieveAttack(t),getPlayerGameboard:n,getIsComputer:a}}},547:e=>{e.exports=function(e){let t=0;return{getLength:()=>e,hit:()=>t++,isSunk:()=>t===e,getHits:()=>t}}}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}(()=>{const{Game:e}=n(82);e.initialize()})()})();