(()=>{var t={82:(t,e,i)=>{const o=i(112),n=i(758),r=i(547),s=i(885);t.exports=function(){let t=0,e=[r(5),r(4),r(3),r(3),r(2),r(2)];const i=o();i.placeShip(e[0],{x:0,y:0},"y"),i.placeShip(e[1],{x:5,y:0},"x"),i.placeShip(e[2],{x:5,y:6},"x"),i.placeShip(e[3],{x:2,y:6},"y"),i.placeShip(e[4],{x:9,y:8},"y"),i.placeShip(e[5],{x:6,y:3},"x");const a=o();e.forEach((t=>{a.placeShipRandomly(t)}));const l=n(a,!0);for(;!i.areAllShipsSunk()&&!a.areAllShipsSunk();)t%2==0?l.randomAttack(i):s.listenToAttack(),t++;i.areAllShipsSunk()?(console.log("computer wins"),console.log(i.areAllShipsSunk()),console.log(i.getBoard())):console.log("error")}},112:t=>{t.exports=function(){let t=[];const e=()=>{for(let e=0;e<10;e++)for(let i=0;i<10;i++)t.push({position:{x:e,y:i},hasBeenHit:!1})};e();const i=(t,e)=>t.x===e.x&&t.y===e.y,o=(e,o,n)=>{let s=[o];for(let t=e.getLength();t>1;t--){let t={};Object.assign(t,s[s.length-1]),t[n]++,s.push(t)}if(!s.every((t=>r(t))))return new Error("Position occupied.");{let o=[...t];s.map((e=>t.findIndex((t=>i(t.position,e))))).forEach((t=>o[t].ship=e)),t=o}},n=t=>{let e=a().map((t=>t.position)),i=e[Math.floor(Math.random()*e.length)],r=["x","y"][Math.round(Math.random())];o(t,i,r)instanceof Error?n(t):o(t,i,r)},r=e=>a().some((o=>i(o.position,e)&&!(e=>!!(e=>{const o=[{x:e.x+1,y:e.y},{x:e.x-1,y:e.y},{x:e.x,y:e.y+1},{x:e.x,y:e.y-1},{x:e.x+1,y:e.y+1},{x:e.x-1,y:e.y-1},{x:e.x+1,y:e.y-1},{x:e.x-1,y:e.y+1}].filter((t=>s(t)));return t.filter((t=>o.some((e=>i(e,t.position)))))})(e).some((t=>t.ship)))(e))),s=e=>t.some((t=>i(t.position,e))),a=()=>t.filter((t=>!t.ship));return{placeShip:o,initialize:e,getBoard:()=>t,recieveAttack:e=>{const o=t.find((t=>i(t.position,e)));if(o.hasBeenHit)return new Error("Position has already been hit.");o.ship&&o.ship.hit(),o.hasBeenHit=!0},areAllShipsSunk:()=>{const e=t.filter((t=>t.hasBeenHit&&t.ship));return 0!==e.length&&e.every((t=>t.ship.isSunk()))},getMissedAttacks:()=>t.filter((t=>t.hasBeenHit&&!t.ship)),getAvailableBoxes:()=>t.filter((t=>!t.hasBeenHit)),placeShipRandomly:n}}},758:t=>{t.exports=function(t,e){return e?{randomAttack:t=>{let e=t.getAvailableBoxes().map((t=>t.position)),i=Math.floor(Math.random()*e.length);t.recieveAttack(e[i])}}:{attack:(t,e)=>t.recieveAttack(e)}}},547:t=>{t.exports=function(t){let e=0;return{getLength:()=>t,hit:()=>e++,isSunk:()=>e===t,getHits:()=>e}}},885:t=>{const e={initialize:()=>{const t=document.createElement("h1");t.innerText="Battleship",document.body.appendChild(t)},listenToAttack:()=>"player must pick attacking position"};t.exports=e}},e={};function i(o){var n=e[o];if(void 0!==n)return n.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,i),r.exports}(()=>{const t=i(82);i(885).initialize(),t()})()})();